---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getLangFromUrl } from '../i18n/utils';
import { SupportForm } from '../components/forms/SupportForm';

const lang = getLangFromUrl(Astro.url); // Will be 'en'

// SEO Configuration for Support Page
const title = 'Support & Help Center | Praxis Navigator Customer Support';
const description =
  'Get help with Praxis Navigator behavioral security monitoring platform. Contact our expert support team, access documentation, and find answers to common questions.';
const keywords =
  'Praxis Navigator support, customer support, help center, technical support, security platform help, behavioral monitoring support, Microsoft Graph API help';

// Structured Data for Support Service
const supportSchema = {
  '@context': 'https://schema.org',
  '@type': 'ContactPage',
  name: 'Praxis Navigator Support',
  description: 'Customer support and help center for Praxis Navigator platform',
  url: 'https://praxisnavigator.io/support',
  mainEntity: {
    '@type': 'Organization',
    name: 'Praxis Security Labs',
    url: 'https://praxisnavigator.io',
    contactPoint: {
      '@type': 'ContactPoint',
      contactType: 'Customer Support',
      availableLanguage: ['English', 'Norwegian'],
      hoursAvailable: {
        '@type': 'OpeningHoursSpecification',
        dayOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],
        opens: '08:00',
        closes: '17:00',
        timeZone: 'Europe/Oslo',
      },
    },
  },
};
---

<BaseLayout
  title={title}
  description={description}
  keywords={keywords}
  pageType="contact"
  structuredData={supportSchema}
  ogImage="/images/support/support-og.png"
  ogType="website"
  lang={lang}
>
  <!-- Hero Section -->
  <section class="py-20 bg-gradient-to-b from-praxis-blue to-praxis-sky">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="h1 text-praxis-white mb-8">Support & Help Center</h1>

        <p class="body-large text-praxis-sky-100 mb-12 max-w-3xl mx-auto">
          Get expert assistance with Praxis Navigator platform. Our security
          specialists are here to help you maximize your behavioral monitoring
          capabilities.
        </p>
      </div>
    </div>
  </section>

  <!-- Support Contact Form Section -->
  <section class="py-20 bg-praxis-white">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto">
        <SupportForm language={lang} client:load />
      </div>
    </div>
  </section>
</BaseLayout>
