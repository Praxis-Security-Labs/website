name = "praxis-contact-api"
main = "index.ts"
compatibility_date = "2024-11-01"

# Route configuration for custom domain
[[routes]]
pattern = "praxisnavigator.io/api/*"
zone_name = "praxisnavigator.io"

# KV namespace bindings (using existing namespaces)
[[kv_namespaces]]
binding = "RATE_LIMIT_KV"
id = "fc9fca8da4e74935acb9fdb4eccba12a"

[[kv_namespaces]]
binding = "CONSUMER_EMAIL_KV"
id = "1db0c718c288456eb681f9ee5d43e0fa"

# Environment variables for Microsoft Graph API
[vars]
CF_M365_TENANT_ID = "your-tenant-id-here"
CF_M365_CLIENT_ID = "your-client-id-here" 
CF_M365_SENDER = "noreply@praxisnavigator.io"
RECIPIENT_EMAIL = "contact@praxisnavigator.io"
# CF_M365_CLIENT_SECRET is set as secret (use: npx wrangler secret put CF_M365_CLIENT_SECRET)
