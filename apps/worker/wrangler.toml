name = "praxis-contact-api"
main = "index.ts"
compatibility_date = "2024-11-01"

# Route configuration for custom domain
[[routes]]
pattern = "praxisnavigator.io/api/*"
zone_name = "praxisnavigator.io"

# KV namespace bindings (using existing namespaces)
[[kv_namespaces]]
binding = "RATE_LIMIT_KV"
id = "f0a6b1c2d3e4f5a6b7c8d9e0f1a2b3c4"

[[kv_namespaces]]
binding = "CONSUMER_EMAIL_KV"
id = "a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6"

# Environment variables (set these in Cloudflare dashboard)
# CF_M365_TENANT_ID = "your-tenant-id"
# CF_M365_CLIENT_ID = "your-client-id" 
# CF_M365_SENDER = "your-sender@domain.com"
# RECIPIENT_EMAIL = "recipient@domain.com"
# CF_M365_CLIENT_SECRET = "your-client-secret" (use: npx wrangler secret put CF_M365_CLIENT_SECRET)
