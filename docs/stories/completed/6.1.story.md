# Story 6.1: Persona Pages Content Enhancement and CTA Implementation

## Status
Complete

## Story
**As a** marketing professional creating content strategy,  
**I want** to implement tailored CTA logic and content optimization for each persona page (SAT/HRM, Executive/Board, Department Managers),  
**so that** each user segment receives targeted messaging and conversion opportunities aligned with their specific needs and decision-making processes.

## Acceptance Criteria

1. **Persona-Specific CTA Logic Implementation**
   - SAT/HRM persona page displays "Start Free Trial" CTA leading to trial explainer
   - Executive/Board persona page displays "Schedule Executive Demo" CTA leading to demo request form
   - Department Managers persona page displays "Download Benchmark Report" CTA leading to resource download

2. **Content Enhancement per Persona**
   - Each persona page has distinct messaging addressing role-specific pain points
   - Value propositions tailored to each persona's outcomes and success metrics
   - Proof points and testimonials relevant to each audience segment

3. **Performance and Usability Requirements**
   - All persona pages load in <3 seconds
   - 90%+ mobile usability scores maintained
   - Conversion rate targets: SAT/HRM (6%), Security analysts (4%), Executives (3%)

4. **Design System Compliance**
   - Use existing persona page layouts and component specifications
   - Integrate proof points using existing card/list components
   - Follow Praxis Design System guidelines for all new elements

## Dev Notes

### Previous Story Insights
No previous content strategy story exists - this is the first story in the content strategy epic.

### Content Strategy Context
This story implements functional requirements FR-001 through FR-005 from the content strategy PRD, focusing on converting existing persona page stubs into fully optimized conversion-focused pages.

### Component Specifications
**Existing Components to Leverage:** [Source: architecture/components.md#frontend-components]
- React component props with TypeScript interfaces
- Astro's component props system  
- Praxis Design System CSS classes
- Card/list components for proof points and testimonials

**CTA Button Components:** [Source: architecture/frontend-architecture.md#component-template]
- Button component with variant props ('primary', 'secondary')
- Size props ('lg' for hero CTAs)
- Form components for demo request functionality

### File Locations
**Content Updates:** [Source: architecture/unified-project-structure.md]
- `apps/website/src/pages/[lang]/segments/security-leaders.astro` - SAT/HRM persona page
- `apps/website/src/pages/[lang]/segments/executives.astro` - Executive/Board persona page  
- `apps/website/src/pages/[lang]/segments/managers.astro` - Department Managers persona page

**Component Creation (if needed):** [Source: architecture/unified-project-structure.md]
- `apps/website/src/components/sections/` - New persona-specific sections
- `apps/website/src/components/forms/` - Demo request forms
- `apps/website/src/components/ui/` - CTA button variations

### Data Models
**CTA Tracking Interface:** [Source: architecture/data-models.md#lead-data-models]
- TypeScript interfaces for lead generation forms
- UTM parameter tracking for conversion attribution
- Segment identification for personalized follow-up

**Form Data Models:** [Source: architecture/frontend-architecture.md#component-template]
```typescript
interface DemoRequest {
  contact: {
    firstName: string;
    lastName: string;
    email: string;
  };
  segment: 'security-leaders' | 'executives' | 'managers' | 'sat-teams';
  utm?: UTMParameters;
}
```

### API Specifications
**Form Submission Endpoints:** [Source: architecture/api-specification.md#rest-api-specification]
- `/api/forms/submit` - POST endpoint for demo requests and lead capture
- Response format: `{ success: boolean; data?: { leadId: string }; error?: ErrorObject }`

**Marketplace Integration:** [Source: architecture/components.md#authentication-component]
- Azure Marketplace redirect with UTM tracking
- Trial signup flow integration

### Testing Requirements
**Component Testing:** [Source: architecture/testing-strategy.md#frontend-component-test]
- Unit tests for persona-specific CTA logic
- Form submission validation tests
- Responsive design and mobile usability tests

**Integration Testing:** [Source: architecture/testing-strategy.md#backend-api-test]
- Form submission API endpoint testing
- CTA click tracking and analytics integration
- Cross-browser compatibility testing

**Performance Testing:** [Source: architecture/testing-strategy.md#e2e-test]
- Core Web Vitals compliance (LCP < 2.5s, FID < 100ms, CLS < 0.1)
- Mobile performance testing across devices
- Load testing for high-traffic scenarios

### Technical Constraints
**Praxis Design System Compliance:** [Source: architecture/coding-standards.md#critical-fullstack-rules]
- Only use components and styles from the Praxis design system
- No inline CSS - all styling through Praxis theme classes
- Missing components require PM discussion before custom solutions

**Internationalization Support:** [Source: architecture/coding-standards.md#critical-fullstack-rules]
- All user-facing text must support i18n (English/Norwegian)
- Language switching must preserve user context and form state

**Performance Requirements:** [Source: architecture/coding-standards.md#critical-fullstack-rules]
- Lazy load all non-critical JavaScript and images
- Accessibility compliance with keyboard navigation and ARIA labels

## Project Structure Notes
All persona pages follow the established Astro page structure with language routing (`[lang]/segments/`). New components should be created in the appropriate directories according to the unified project structure guidelines.

## Tasks / Subtasks

### Task 1: Analyze Current Persona Pages (AC: 1, 2)
- [x] 1.1. Review existing persona page content and layout structure [Source: architecture/unified-project-structure.md]
- [x] 1.2. Identify gaps in current messaging and CTA placement
- [x] 1.3. Document existing components that can be reused vs. new components needed
- [x] 1.4. Create content strategy outline for each persona with specific pain points and value props

### Task 2: Implement Persona-Specific CTA Logic (AC: 1, 4)
- [x] 2.1. Create CTA component variants for each persona type [Source: architecture/frontend-architecture.md#component-template]
- [x] 2.2. Implement conditional rendering logic based on persona segment
- [x] 2.3. Configure UTM tracking for each CTA type [Source: architecture/data-models.md#lead-data-models]
- [x] 2.4. Add analytics event tracking for CTA clicks [Source: architecture/components.md#analytics-monitoring-component]

### Task 3: Content Enhancement Implementation (AC: 2, 4)
- [x] 3.1. Write persona-specific messaging for SAT/HRM segment (trial-focused)
- [x] 3.2. Write persona-specific messaging for Executive/Board segment (demo-focused)  
- [x] 3.3. Write persona-specific messaging for Department Managers segment (resource-focused)
- [x] 3.4. Integrate testimonials and proof points using existing card components [Source: architecture/components.md#frontend-components]

### Task 4: Form Integration for Demo Requests (AC: 1, 4)
- [x] 4.1. Implement demo request form component [Source: architecture/frontend-architecture.md#component-template]
- [x] 4.2. Configure form validation using Zod schemas [Source: architecture/coding-standards.md#critical-fullstack-rules]
- [x] 4.3. Connect form to `/api/forms/submit` endpoint [Source: architecture/api-specification.md#rest-api-specification]
- [x] 4.4. Add success/error handling and user feedback

### Task 5: Performance and Mobile Optimization (AC: 3)
- [x] 5.1. Optimize images and assets for fast loading [Source: architecture/coding-standards.md#critical-fullstack-rules]
- [x] 5.2. Implement lazy loading for non-critical components
- [x] 5.3. Test and optimize for Core Web Vitals compliance [Source: architecture/testing-strategy.md#e2e-test]
- [x] 5.4. Verify 90%+ mobile usability scores across devices

### Task 6: Internationalization Implementation (AC: 4)
- [x] 6.1. Extract all user-facing text to i18n files [Source: architecture/coding-standards.md#critical-fullstack-rules]
- [x] 6.2. Implement Norwegian translations for all persona-specific content
- [x] 6.3. Test language switching functionality preserves user context
- [x] 6.4. Verify URL routing works correctly for both languages

### Task 7: Testing and Quality Assurance (AC: 1, 2, 3, 4)
- [x] 7.1. Write unit tests for CTA logic and persona-specific rendering [Source: architecture/testing-strategy.md#frontend-component-test]
- [x] 7.2. Write integration tests for form submission workflows [Source: architecture/testing-strategy.md#backend-api-test]
- [x] 7.3. Conduct E2E testing for complete user journeys [Source: architecture/testing-strategy.md#e2e-test]
- [x] 7.4. Performance testing to validate <3 second load times and conversion rate targets

### Task 8: Analytics and Conversion Tracking Setup (AC: 1, 3)
- [x] 8.1. Configure Google Analytics 4 events for persona-specific CTA tracking
- [x] 8.2. Set up conversion funnel tracking for each persona segment
- [x] 8.3. Implement A/B testing framework for CTA optimization (future iteration)
- [x] 8.4. Create dashboard for monitoring conversion rates by persona

## Definition of Done

- [x] All three persona pages have distinct, optimized messaging and CTAs
- [x] CTA logic correctly routes users based on persona segment (trial/demo/resource)
- [x] Form submissions integrate successfully with backend API
- [x] Performance metrics meet requirements (<3s load, 90%+ mobile usability)
- [x] Conversion tracking and analytics implementation functional
- [x] Internationalization support working for both English and Norwegian
- [x] All tests pass (unit, integration, E2E)
- [x] Code review completed and Praxis Design System compliance verified
- [x] Content approved by user through defined approval workflow
