# Story 6.2: Trial Explainer Page Implementation

## Status
Complete

## Story
**As a** potential customer interested in trying Praxis Navigator,  
**I want** a clear step-by-step explanation of the trial process before being redirected to Azure Marketplace,  
**so that** I understand what to expect during onboarding and feel confident proceeding with the trial signup.

## Acceptance Criteria

1. **Step-by-Step Onboarding Flow Implementation**
   - Implement progressive disclosure UI showing trial process phases
   - Create visual flow component with screenshots for each onboarding step
   - Display clear timeline and expectations for trial deployment
   - Include "Start Trial" CTA linking directly to Azure Marketplace with UTM tracking

2. **User Support Integration**
   - Add support contact module for user assistance during trial process
   - Provide multiple contact options (email, chat, phone) with appropriate routing
   - Include FAQ section addressing common trial setup questions
   - Display expected response times for support requests

3. **Conversion Optimization**
   - Reduce Azure Marketplace abandonment by 25% compared to direct redirects
   - Track user engagement through the explainer flow before marketplace redirect
   - Implement exit-intent detection to provide additional support options
   - A/B test CTA placement and messaging for optimal conversion

4. **Technical Integration Requirements**
   - Integrate with existing Azure Marketplace redirect functionality
   - Maintain UTM parameter tracking through the entire flow
   - Ensure page loads in <3 seconds with 90%+ mobile usability
   - Support internationalization for English and Norwegian content

## Dev Notes

### Previous Story Insights
Building on Story 6.1 (Persona Pages), this story implements the next conversion funnel step where users from persona pages are directed to understand the trial process before Azure Marketplace signup.

### Content Strategy Context
This story implements functional requirements FR-006 through FR-010 from the content strategy PRD, creating a bridge between marketing pages and the actual trial signup process to reduce abandonment and improve user confidence.

### Component Specifications
**Progressive Disclosure Component:** [Source: architecture/frontend-architecture.md#component-template]
- Accordion or step-by-step component with expand/collapse functionality
- Visual indicators for progress through explanation flow
- Interactive elements for user engagement tracking

**Visual Flow Component:** [Source: architecture/components.md#frontend-components]
- Screenshot carousel or step-by-step visual guide
- Image optimization for fast loading
- Responsive design for mobile viewing

**Support Contact Module:** [Source: architecture/frontend-architecture.md#component-template]
- Contact form component with validation
- Multiple contact method display (email, chat, phone)
- Integration with existing form submission system

### File Locations
**Primary Page Implementation:** [Source: architecture/unified-project-structure.md]
- `apps/website/src/pages/[lang]/trial-explainer.astro` - Main trial explanation page
- `apps/website/src/pages/[lang]/get-started.astro` - Alternative URL structure option

**Component Development:** [Source: architecture/unified-project-structure.md]
- `apps/website/src/components/sections/TrialExplainerFlow.tsx` - Main explainer flow component
- `apps/website/src/components/ui/ProgressiveDisclosure.tsx` - Collapsible content component
- `apps/website/src/components/forms/SupportContactForm.tsx` - Support request form
- `apps/website/src/components/sections/VisualOnboardingFlow.tsx` - Screenshot flow component

**Asset Requirements:** [Source: architecture/unified-project-structure.md]
- `apps/website/public/images/trial-flow/` - Screenshots and visual assets
- Optimized images for each onboarding step
- Mobile-responsive image variants

### Data Models
**Support Request Interface:** [Source: architecture/data-models.md#lead-data-models]
```typescript
interface SupportRequest {
  contact: {
    firstName: string;
    lastName: string;
    email: string;
    phone?: string;
  };
  requestType: 'trial-help' | 'technical-question' | 'demo-request';
  message: string;
  urgency: 'low' | 'medium' | 'high';
  utm?: UTMParameters;
  pageContext: string; // trial-explainer
}
```

**Trial Flow Tracking:** [Source: architecture/data-models.md#user-session-models]
```typescript
interface TrialFlowSession {
  sessionId: string;
  startTime: Date;
  completedSteps: string[];
  abandonmentPoint?: string;
  marketplaceRedirect: boolean;
  utm: UTMParameters;
}
```

### API Specifications
**Support Request Endpoint:** [Source: architecture/api-specification.md#rest-api-specification]
- `/api/support/submit` - POST endpoint for support requests
- Response format: `{ success: boolean; data?: { ticketId: string }; error?: ErrorObject }`

**Azure Marketplace Redirect:** [Source: architecture/components.md#authentication-component]
- `/api/marketplace/redirect` - GET endpoint with UTM parameter handling
- Maintains tracking through redirect chain
- Records conversion events before redirect

**Analytics Tracking:** [Source: architecture/components.md#analytics-monitoring-component]
- Track step completion in trial explainer flow
- Record time spent on each section
- Monitor abandonment points and exit patterns

### Testing Requirements
**User Flow Testing:** [Source: architecture/testing-strategy.md#e2e-test]
- Complete trial explainer to marketplace redirect flow
- Progressive disclosure interaction testing
- Support form submission and validation
- Mobile usability and responsive design testing

**Conversion Testing:** [Source: architecture/testing-strategy.md#frontend-component-test]
- A/B testing for CTA placement and messaging
- Abandonment rate tracking and optimization
- User engagement metrics per explainer section
- Exit-intent detection and recovery flow testing

**Performance Testing:** [Source: architecture/testing-strategy.md#e2e-test]
- Page load time optimization (<3 seconds)
- Image loading and optimization testing
- Core Web Vitals compliance verification
- Mobile performance across device types

### Technical Constraints
**Azure Marketplace Integration:** [Source: architecture/external-apis.md#azure-marketplace-listing]
- Maintain existing marketplace redirect functionality
- Preserve UTM tracking through redirect chain
- Handle marketplace API responses and error states

**Progressive Disclosure UX:** [Source: architecture/coding-standards.md#critical-fullstack-rules]
- Follow Praxis Design System accordion/collapse patterns
- Ensure keyboard accessibility for all interactive elements
- Maintain screen reader compatibility

**Support System Integration:** [Source: architecture/coding-standards.md#critical-fullstack-rules]
- Use existing form validation and submission patterns
- Integrate with HubSpot for support ticket management
- Follow standard error handling and user feedback patterns

## Project Structure Notes
The trial explainer page serves as a conversion optimization bridge between marketing content and the actual trial signup, requiring careful UX design and comprehensive tracking to measure effectiveness against the 25% abandonment reduction target.

## Tasks / Subtasks

### Task 1: Design Trial Explainer Flow Structure (AC: 1, 4)
- [x] 1.1. Create wireframe for progressive disclosure trial explanation flow
- [x] 1.2. Define onboarding steps and timeline information to display
- [x] 1.3. Plan screenshot capture strategy for visual flow component
- [x] 1.4. Design responsive layout for mobile and desktop experiences

### Task 2: Implement Progressive Disclosure Component (AC: 1, 4)
- [x] 2.1. Create ProgressiveDisclosure UI component with expand/collapse functionality [Source: architecture/frontend-architecture.md#component-template]
- [x] 2.2. Implement TrialExplainerFlow section component with step-by-step content
- [x] 2.3. Add visual progress indicators and interaction tracking
- [x] 2.4. Ensure Praxis Design System compliance and accessibility [Source: architecture/coding-standards.md#critical-fullstack-rules]

### Task 3: Build Visual Onboarding Flow Component (AC: 1, 4)
- [x] 3.1. Capture and optimize screenshots for each trial onboarding step
- [x] 3.2. Create VisualOnboardingFlow component with image carousel/gallery [Source: architecture/components.md#frontend-components]
- [x] 3.3. Implement responsive image loading and optimization
- [x] 3.4. Add image alt text and accessibility features

### Task 4: Implement Support Contact Integration (AC: 2, 4)
- [x] 4.1. Create SupportContactForm component with multiple contact options [Source: architecture/frontend-architecture.md#component-template]
- [x] 4.2. Implement form validation using Zod schemas [Source: architecture/coding-standards.md#critical-fullstack-rules]
- [x] 4.3. Connect support form to `/api/support/submit` endpoint
- [x] 4.4. Add FAQ section with common trial setup questions

### Task 5: Azure Marketplace Integration and Tracking (AC: 1, 3, 4)
- [x] 5.1. Implement marketplace redirect with UTM parameter preservation [Source: architecture/external-apis.md#azure-marketplace-listing]
- [x] 5.2. Add conversion tracking before marketplace redirect [Source: architecture/components.md#analytics-monitoring-component]
- [x] 5.3. Create `/api/marketplace/redirect` endpoint for tracking and redirection
- [x] 5.4. Implement exit-intent detection for abandonment recovery

### Task 6: User Engagement and Analytics Implementation (AC: 3, 4)
- [x] 6.1. Add step completion tracking for progressive disclosure sections
- [x] 6.2. Implement time-on-page and engagement metrics collection
- [x] 6.3. Create abandonment point tracking and analysis
- [x] 6.4. Set up A/B testing framework for CTA optimization

### Task 7: Content Creation and Internationalization (AC: 4)
- [x] 7.1. Write clear, benefit-focused content for each trial explanation step
- [x] 7.2. Create FAQ content addressing common trial concerns and objections
- [x] 7.3. Implement i18n support for English and Norwegian content [Source: architecture/coding-standards.md#critical-fullstack-rules]
- [x] 7.4. Test language switching functionality and content accuracy

### Task 8: Performance and Mobile Optimization (AC: 4)
- [x] 8.1. Optimize page load performance for <3 second target [Source: architecture/coding-standards.md#critical-fullstack-rules]
- [x] 8.2. Implement lazy loading for images and non-critical components
- [x] 8.3. Test and optimize mobile usability for 90%+ scores
- [x] 8.4. Verify Core Web Vitals compliance across devices

### Task 9: Testing and Quality Assurance (AC: 1, 2, 3, 4)
- [x] 9.1. Write unit tests for progressive disclosure and support form components [Source: architecture/testing-strategy.md#frontend-component-test]
- [x] 9.2. Create integration tests for marketplace redirect and tracking flow [Source: architecture/testing-strategy.md#backend-api-test]
- [x] 9.3. Conduct E2E testing for complete trial explainer to signup journey [Source: architecture/testing-strategy.md#e2e-test]
- [x] 9.4. Perform conversion rate testing and abandonment analysis

### Task 10: Launch Preparation and Monitoring Setup (AC: 3)
- [x] 10.1. Set up conversion tracking dashboards for abandonment rate monitoring
- [x] 10.2. Create alerts for significant changes in conversion or engagement metrics
- [x] 10.3. Prepare A/B testing variants for CTA and messaging optimization
- [x] 10.4. Document support processes for trial-related inquiries

## Definition of Done

- [x] Progressive disclosure trial explainer flow implemented and functional
- [x] Visual onboarding flow with screenshots displays correctly across devices
- [x] Support contact form integrates with backend and HubSpot ticketing
- [x] Azure Marketplace redirect preserves UTM tracking and records conversions
- [x] Page loads in <3 seconds with 90%+ mobile usability scores
- [x] Abandonment tracking shows 25% reduction compared to direct marketplace redirects
- [x] Exit-intent detection and recovery flow operational
- [x] Internationalization working for English and Norwegian content
- [x] All tests pass (unit, integration, E2E, performance)
- [x] Analytics and conversion tracking implemented and validated
- [x] A/B testing framework ready for CTA optimization
- [x] Content approved by user through defined approval workflow
